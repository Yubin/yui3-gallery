YUI.add("gallery-jsonp",function(D){var A=D.Lang,C=function(){};function B(E,F){this.url=E;this._init(F);}B._pattern=/\bcallback=.*?(?=&|$)/i;B._template="callback={callback}";B.prototype={_init:function(E){var F=A.isObject(E)?E:{};this.success=A.isFunction(F)?F:A.isFunction(F.success)?F.success:C;this.failure=A.isFunction(F.failure)?F.failure:C;if(A.isFunction(F.format)){this._format=F.format;}},_format:function(F){var E=this.url,H=B._template.replace(/\{callback\}/,F),G;if(B._pattern.test(E)){return E.replace(B._pattern,H);}else{G=E.slice(-1);if(G!=="&"&&G!=="?"){E+=(E.indexOf("?")>-1)?"&":"?";}return E+H;}},send:function(){var I=D.guid().replace(/-/g,"_"),G=this._format("YUI."+I),J=this.success,F=this.failure,E=D.doc.createElement("script"),H=D.doc.getElementsByTagName("head")[0];YUI.Env.JSONP[I]=J;E.onload=function(){delete YUI.Env.JSONP[I];E.parentNode.removeChild(E);};E.onerror=function(){delete YUI.Env.JSONP[I];E.parentNode.removeChild(E);F(G);};H.appendChild(E);return this;}};D.JSONPRequest=B;D.jsonp=function(E,G){var F=new D.JSONPRequest(E,G);return F&&F.send();};YUI.Env.JSON={};},"@VERSION@",{requires:["selector-css3"]});